<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MandyLove </title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap"
rel="stylesheet">
    <style>
        body {
            margin: 0;
            overflow: hidden;
            font-family: Arial, sans-serif;
            cursor: url('https://i.postimg.cc/rsvhwrDK/20250811053151-307-removebg-preview.png') 16 16, auto;
        }
        #controls {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0, 0, 30, 0.7);
            padding: 15px;
            border-radius: 5px;
            color: white;
            max-width: 300px;
            transition: all 0.3s ease;
        }
        #controls.collapsed {
            transform: translateX(-90%);
        }
        #toggle-controls {
            position: absolute;
            right: -30px;
            top: 10px;
            background: rgba(0, 0, 30, 0.7);
            color: white;
            border: none;
            border-radius: 0 5px 5px 0;
            padding: 5px 10px;
            cursor: pointer;
        }
        textarea {
            width: 100%;
            height: 60px;
            margin-bottom: 10px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid #4fc3f7;
            border-radius: 4px;
            color: white;
            padding: 8px;
        }
        button {
            background: #4fc3f7;
            color: #0d47a1;
            border: none;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            margin-right: 10px;
        }
        input[type="range"] {
            width: 100%;
            margin-bottom: 15px;
        }
        .control-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
        }
        #instructions {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background: rgba(0, 0, 30, 0.7);
            padding: 10px;
            border-radius: 5px;
            color: white;
        }
        #music-controls {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 30, 0.7);
            padding: 10px;
            border-radius: 5px;
            color: white;
        }
        #volume-control {
            width: 100px;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div id="controls">
        <button id="toggle-controls">â—€</button>
        <h3>å®‡å®™æ§åˆ¶å°</h3>
        
        <div class="control-group">
            <label for="textInput">æ–‡æœ¬å†…å®¹ (ç”¨é€—å·åˆ†éš”):</label>
            <textarea id="textInput">ç”Ÿæ—¥å¿«ä¹ğŸ‚,æ›¼æ›¼å¤©å¤©å¼€å¿ƒå¹³å¹³å®‰å®‰ï¼,i love you,Eres una chica guapa,Ğ¡Ğµ Ğ¡Ğ¸Ñ…Ğ°Ğ½ Ğ¿Ğ»Ğ¾Ñ…Ğ¾ Ğº Ñ‚ĞµĞ±Ğµ Ğ¾Ñ‚Ğ½Ğ¾ÑĞ¸Ñ‚ÑÑ. Ğ¯ Ğ¼Ğ¾Ğ³Ñƒ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‡ÑŒ Ñ‚ĞµĞ±Ğµ Ğ¿Ğ¾Ğ±ĞµĞ´Ğ¸Ñ‚ÑŒ ĞµĞµ,æ…¢æ…¢å­¦ä¸šæœ‰æˆä¸€åˆ‡é¡ºåˆ©</textarea>
            <button onclick="updateText()">æ›´æ–°æ–‡æœ¬</button>
        </div>
        
        <div class="control-group">
            <label for="particleCount">æ–‡å­—ç²’å­æ•°é‡: <span id="particleCountValue">30</span></label>
            <input type="range" id="particleCount" min="5" max="100" value="30">
            
            <label for="spaceObjectCount">å¤ªç©ºç‰©ä½“æ•°é‡: <span id="spaceObjectCountValue">10</span></label>
            <input type="range" id="spaceObjectCount" min="0" max="30" value="10">
            
            <button onclick="resetParticles()">é‡ç½®æ‰€æœ‰</button>
        </div>
    </div>

    <div id="music-controls">
        <h4>éŸ³ä¹æ§åˆ¶</h4>
        <button id="playBtn">æ’­æ”¾éŸ³ä¹</button>
        <button id="pauseBtn">æš‚åœéŸ³ä¹</button>
        <div style="margin-top: 5px;">
            <label for="volume-control">éŸ³é‡:</label>
            <input type="range" id="volume-control" min="0" max="1" step="0.1" value="0.7">
        </div>
    </div>

    <div id="instructions">
        ç‚¹å‡»å±å¹•ä»»æ„ä½ç½®æ·»åŠ æ–‡å­—ç²’å­
    </div>

    <!-- æ·»åŠ éŸ³é¢‘å…ƒç´  -->
    <audio id="bgMusic" loop>
        <source src="http://music.163.com/song/media/outer/url?id=33544561.mp3" type="audio/mpeg">
        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘å…ƒç´ ã€‚
    </audio>

    <script>
        let numParticles = 0;
        let numSpaceObjects = 13;
        let numStars = 500;
        let noiseScale = 100, noiseStrength = 1;
        let particles = [];
        let spaceObjects = [];
        let stars = [];
        let sentences = [
            "ç”Ÿæ—¥å¿«ä¹ğŸ‚",
            "æ›¼æ›¼å¤©å¤©å¼€å¿ƒå¹³å¹³å®‰å®‰ï¼",
            "i love you",
            "Eres una chica guapa",
            "Ğ¡Ğµ Ğ¡Ğ¸Ñ…Ğ°Ğ½ Ğ¿Ğ»Ğ¾Ñ…Ğ¾ Ğº Ñ‚ĞµĞ±Ğµ Ğ¾Ñ‚Ğ½Ğ¾ÑĞ¸Ñ‚ÑÑ. Ğ¯ Ğ¼Ğ¾Ğ³Ñƒ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‡ÑŒ Ñ‚ĞµĞ±Ğµ Ğ¿Ğ¾Ğ±ĞµĞ´Ğ¸Ñ‚ÑŒ ĞµĞµ",
            "æ…¢æ…¢å­¦ä¸šæœ‰æˆä¸€åˆ‡é¡ºåˆ©",
            "æ›¼æ›¼æ˜¯ä¸ªæ— æ•Œå‰å®³ç¾å¥³å­ï¼äº‹äº‹é¡ºé‚ï¼",
            "æ›¼æ›¼ä½ è¶…æ£’è¶…å‹‡æ•¢ï¼æ–°ä¸€å²ç¥å¤©å¤©å¼€å¿ƒä¸‡äº‹èƒœæ„ï¼",
            "æ›¼æ›¼ç¥ä½ ä¸€ç›´å¼€å¼€å¿ƒå¿ƒï¼æ–°çš„ä¸€å²ç»§ç»­å‹‡æ•¢çš„åšè‡ªå·±ï¼",
            "ç”Ÿæ—¥å¿«ä¹å¤©å¤©å¹¸ç¦ï¼",
            "æ›¼æ›¼ç”Ÿæ—¥å¿«ä¹å‘€ğŸ‰å¤©å¤©å¼€å¿ƒï¼ï¼",
            "æœ€æ£’çš„æ›¼æ›¼ç”Ÿæ—¥å¿«ä¹ï¼å¤©å¤©å¼€å¿ƒè¯¸äº‹é¡ºæ„ğŸ‚",
            "äº²çˆ±çš„æ›¼æ›¼ç”Ÿæ—¥å¿«ä¹å‘€ï¼ç¥ä½ å¥åº·å¹¸ç¦æ— çƒ¦æ¼ï¼",
            "æ›¼æ›¼ç”Ÿæ—¥å¿«ä¹ğŸ‚ Happy 19thğŸ¥³ ç¥ä½ å‰ç¨‹ä¸€ç‰‡ä¼¼é”¦ æœªæ¥å¯æœŸ å¤©å¤©å¼€å¿ƒ ä½ çœŸçš„æ˜¯ä¸ªå¾ˆæ£’å¾ˆæ£’çš„å°å¥³å­©ï¼ï¼ï¼",
            "æ›¼æ›¼ç”Ÿæ—¥å¿«ä¹ğŸ‚å¤©å¤©å¼€å¿ƒ å¿ƒæƒ³äº‹æˆ ç§‘ç§‘æ»¡ç»© å¥åº·å¿«ä¹",
            "æ›¼æ›¼ç”Ÿæ—¥å¿«ä¹ï¼ï¼å¤©å¤©å¼€å¿ƒï¼å¿ƒæƒ³äº‹æˆï¼èº«ä½“å¥åº·ï¼",
            "æ…¢æ…¢ç”Ÿæ—¥å¿«ä¹ä¸‡äº‹é¡ºæ„ï¼å¤©å¤©å¼€å¿ƒï¼åƒå¥½å–å¥½ç¡å¥½â£ï¸",
            "19å²å•¦ æ„¿ä½ æ°¸è¿œåšé‚£ä¸ªè‡ªä¿¡å‹‡æ•¢æœ‰å†²åŠ²çš„å¥³å­© è¯¸äº‹é¡ºæ„ ä¸‡äº‹é¡ºé‚ï¼ï¼å¦‚æœæœ‰ä»€ä¹ˆäº‹æƒ…è®©ä½ çƒ¦å¿ƒä¸ºéš¾ æˆ‘æ°¸è¿œç«™åœ¨ä½ è¿™è¾¹å“Ÿ",
            "yzmç”Ÿæ—¥å¿«ä¹ï¼o((*^â–½^*))oè¦å¤©å¤©å¼€å¿ƒ æ°¸è¿œå¹¸ç¦å‘€ å¿™ç¢Œçš„æ—¥å­åˆ«å¿˜äº†æˆ‘ä»¬è¿™ç¾¤è€å‹å“‡ ç¥æ¨æ€»è’¸è’¸æ—¥ä¸Š æ­¥æ­¥é«˜å‡ ğŸ¶å¯Œè´µ é›¾ç›¸å¿˜ï¼ˆdogeï¼‰",
            "ç”Ÿæ—¥å¿«ä¹ ç¥ä½ ç”Ÿæ´»é¡ºé‚ ä¸€åˆ‡å¯ä»¥æŒ‰è‡ªå·±çš„æƒ³æ³•èµ°",
            "zhiæ›¼ç”Ÿæ—¥å¿«ä¹å“‡ï¼è®¤è¯†çš„ç¬¬ä¸ƒå¹´å•¦ ç¥ä½ å¼€å¿ƒå¹¸ç¦ ä¹Ÿç¥æˆ‘ä»¬å¯ä»¥ä¸€èµ·ç»§ç»­ç©ä¸‹å»ï¼",
            "è¿™ä¸€å¹´çœ‹ç€ä½ èµ°è¿‡äº†å¾ˆå¤šçš„åœ°æ–¹ æ¯ä¸€æ¬¡å‡ºå‘éƒ½æ˜¯å‹‡æ•¢çš„å†’é™© ç¥ä½ ä»¥åèƒ½ä¸€ç›´åšä¸ºæ¢¦æƒ³åŠªåŠ›çš„è¿½å…‰è€… ä¸€è·¯è€•è€˜ ä¸€è·¯èŠ±å¼€ğŸŒ¸",
            "æ›¼æ›¼ç”Ÿæ—¥å¿«ä¹ï¼ï¼å¼€å¿ƒå¿«ä¹æ¯ä¸€å¤©å“¦ï¼",         
        ];

        // é¢„åŠ è½½å¤ªç©ºç‰©ä½“å›¾åƒ
        let spaceObjectImages = [];
        function preload() {
            // ä½¿ç”¨å…è´¹å¤ªç©ºå›¾åƒèµ„æº
            spaceObjectImages.push(loadImage('https://i.postimg.cc/NMbqFptL/20250811053139-305-removebg-preview.png')); // å®‡å®™é£èˆ¹
            spaceObjectImages.push(loadImage('https://i.postimg.cc/d0vxCr4C/20250811053144-306-removebg-preview.png')); // å°è¡Œæ˜Ÿ1
            spaceObjectImages.push(loadImage('https://i.postimg.cc/rsvhwrDK/20250811053151-307-removebg-preview.png')); // å°è¡Œæ˜Ÿ2
            spaceObjectImages.push(loadImage('https://i.postimg.cc/CxpPyby2/20250811053156-308-removebg-preview.png')); // å«æ˜Ÿ1
            spaceObjectImages.push(loadImage('https://i.postimg.cc/SsRVLr8n/20250811053202-309-removebg-preview.png')); // å«æ˜Ÿ2
            spaceObjectImages.push(loadImage('https://i.postimg.cc/T3xrPcCg/20250811225004-350-removebg-preview.png')); // å«æ˜Ÿ3
            spaceObjectImages.push(loadImage('https://i.postimg.cc/PqrYW5Gq/20250811225004-349-removebg-preview.png')); // å«æ˜Ÿ4
            spaceObjectImages.push(loadImage('https://i.postimg.cc/HLZ5B1H9/20250811225004-348-removebg-preview.png')); // å«æ˜Ÿ5
            spaceObjectImages.push(loadImage('https://i.postimg.cc/Y9vFPDCK/20250811225004-347-removebg-preview.png')); // å«æ˜Ÿ6
            spaceObjectImages.push(loadImage('https://i.postimg.cc/3xPQpd0X/20250811225004-346-removebg-preview.png')); // å«æ˜Ÿ7
            
        }

        // éŸ³ä¹æ§åˆ¶ç›¸å…³å˜é‡
        let bgMusic = document.getElementById('bgMusic');
        let playBtn = document.getElementById('playBtn');
        let pauseBtn = document.getElementById('pauseBtn');
        let volumeControl = document.getElementById('volume-control');

        function setup() {
            createCanvas(windowWidth, windowHeight);
            noStroke();
            textAlign(CENTER, CENTER);
            
            initStars();
            initParticles();
            initSpaceObjects();

            bgMusic.play();
            bgMusic.volume = 0.7;
            
            // æ§åˆ¶é¢æ¿æŠ˜å æŒ‰é’®
            document.getElementById('toggle-controls').addEventListener('click', function() {
                document.getElementById('controls').classList.toggle('collapsed');
                this.textContent = document.getElementById('controls').classList.contains('collapsed') ? 'â–¶' : 'â—€';
            });

            // ç²’å­æ•°é‡æ§åˆ¶
            document.getElementById('particleCount').addEventListener('input', function() {
                numParticles = this.value;
                document.getElementById('particleCountValue').textContent = this.value;
                initParticles();
            });

            // å¤ªç©ºç‰©ä½“æ•°é‡æ§åˆ¶
            document.getElementById('spaceObjectCount').addEventListener('input', function() {
                numSpaceObjects = this.value;
                document.getElementById('spaceObjectCountValue').textContent = this.value;
                initSpaceObjects();
            });

            // éŸ³ä¹æ§åˆ¶äº‹ä»¶
            playBtn.addEventListener('click', function() {
                bgMusic.play();
            });

            pauseBtn.addEventListener('click', function() {
                bgMusic.pause();
            });

            volumeControl.addEventListener('input', function() {
                bgMusic.volume = this.value;
            });

            // è®¾ç½®åˆå§‹éŸ³é‡
            bgMusic.volume = 0.7;
        }

        function windowResized() {
            resizeCanvas(windowWidth, windowHeight);
        }

        function draw() {
            background(0, 0, 30);
            
            // ç»˜åˆ¶æ˜Ÿç©º
            for (let star of stars) {
                star.display();
            }
            
            // ç»˜åˆ¶å¤ªç©ºç‰©ä½“
            for (let obj of spaceObjects) {
                obj.run();
            }
            
            // ç»˜åˆ¶æ–‡æœ¬ç²’å­
            for (let particle of particles) {
                particle.run();
            }
        }

        function initParticles() {
            particles = [];
            for (let i = 0; i < numParticles; i++) {
                addParticle(random(width), random(height));
            }
        }

        function initSpaceObjects() {
            spaceObjects = [];
            for (let i = 0; i < numSpaceObjects; i++) {
                addSpaceObject(random(width), random(height));
            }
        }

        function initStars() {
            stars = [];
            for (let i = 0; i < numStars; i++) {
                stars.push(new Star());
            }
        }

        function updateText() {
            let input = document.getElementById('textInput').value;
            sentences = input.split(',').map(s => s.trim()).filter(s => s.length > 0);
        }

        function resetParticles() {
            particles = [];
            spaceObjects = [];
            for (let i = 0; i < numParticles; i++) {
                addParticle(random(width), random(height));
            }
            for (let i = 0; i < numSpaceObjects; i++) {
                addSpaceObject(random(width), random(height));
            }
        }

        function addParticle(x, y) {
            let loc = createVector(x, y);
            let angle = 0;
            let dir = createVector(cos(angle), sin(angle));
            let speed = random(0.2, 1);
            let textSize = random(9, 15);
            let sentence = random(sentences);
            particles.push(new TextSentence(loc, dir, speed, sentence, textSize));
        }

        function addSpaceObject(x, y) {
            let loc = createVector(x, y);
            let angle = random(TWO_PI);
            let dir = createVector(cos(angle), sin(angle));
            let speed = random(0.1, 0.5);
            let size = random(80, 130);
            let imgIndex = floor(random(spaceObjectImages.length));
            spaceObjects.push(new SpaceObject(loc, dir, speed, size, imgIndex));
        }

        function mouseClicked() {
            if (mouseX > 0 && mouseX < width && mouseY > 0 && mouseY < height) {
                addParticle(mouseX, mouseY);
            }
        }

        // æ˜Ÿç©ºç±»
        class Star {
            constructor() {
                this.x = random(width);
                this.y = random(height);
                this.size = random(0.5, 3);
                this.brightness = random(100, 255);
                this.twinkleSpeed = random(0.01, 0.05);
                this.originalBrightness = this.brightness;
            }
            
            display() {
                this.brightness = this.originalBrightness + sin(frameCount * this.twinkleSpeed) * 50;
                
                fill(this.brightness);
                noStroke();
                ellipse(this.x, this.y, this.size);
                
                if (this.size > 2 && random() < 0.01) {
                    fill(255, 255, 255, 150);
                    ellipse(this.x, this.y, this.size * 3);
                }
            }
        }

        // å¤ªç©ºç‰©ä½“ç±»
        class SpaceObject {
            constructor(_loc, _dir, _speed, _size, _imgIndex) {
                this.loc = _loc;
                this.dir = _dir;
                this.speed = _speed;
                this.size = _size;
                this.imgIndex = _imgIndex;
                this.rotation = random(TWO_PI);
                this.rotationSpeed = random(-0.01, 0.03);
            }
            
            run() {
                this.move();
                this.checkEdges();
                this.display();
            }
            
            move() {
                let angle = noise(this.loc.x/noiseScale, this.loc.y/noiseScale, frameCount/200)*TWO_PI*noiseStrength;
                this.dir.x = sin(angle);
                this.dir.y = cos(angle);
                let vel = this.dir.copy();
                vel.mult(this.speed);
                this.loc.add(vel);
                this.rotation += this.rotationSpeed;
            }
            
            checkEdges() {
                let margin = 100;
                if (this.loc.x < -margin || this.loc.x > width + margin || 
                    this.loc.y < -margin || this.loc.y > height + margin) {
                    this.loc.x = random(width);
                    this.loc.y = random(height);
                }
            }
            
            display() {
                push();
                translate(this.loc.x, this.loc.y);
                rotate(this.rotation);
                imageMode(CENTER);
                let img = spaceObjectImages[this.imgIndex];
                // è°ƒæ•´å›¾åƒå¤§å°å¹¶ä¿æŒå®½é«˜æ¯”
                let ratio = img.width / img.height;
                let w = this.size;
                let h = this.size / ratio;
                image(img, 0, 0, w, h);
                pop();
            }
        }

        // æ–‡æœ¬å¥å­ç±»
        class TextSentence {
            constructor(_loc, _dir, _speed, _text, _size) {
                this.loc = _loc;
                this.dir = _dir;
                this.speed = _speed;
                this.text = _text;
                this.size = _size;
                this.color = color(random(150, 255), random(150, 255), random(150, 255));
                this.rotation = random(TWO_PI);
                this.rotationSpeed = random(-0.008, 0.008);
                this.twinkle = random(0.5, 1.5);
                this.font = 'Dancing Script'; // æ–°å¢ï¼šè®¾ç½®èŠ±ä½“å­—å±
            }
            
            run() {
                this.move();
                this.checkEdges();
                this.update();
            }
            
            move() {
                let angle = noise(this.loc.x/noiseScale, this.loc.y/noiseScale, frameCount/100)*TWO_PI*noiseStrength;
                this.dir.x = sin(angle);
                this.dir.y = cos(angle);
                let vel = this.dir.copy();
                vel.mult(this.speed);
                this.loc.add(vel);
                this.rotation += this.rotationSpeed;
            }
            
            checkEdges() {
                let margin = 200;
                if (this.loc.x < -margin || this.loc.x > width + margin || 
                    this.loc.y < -margin || this.loc.y > height + margin) {
                    this.loc.x = random(width);
                    this.loc.y = random(height);
                }
            }
            
            update() {
                let alpha = 200 + sin(frameCount * this.twinkle) * 55;
                
                push();
                translate(this.loc.x, this.loc.y);
                rotate(this.rotation);
                fill(red(this.color), green(this.color), blue(this.color), alpha);
                textFont(this.font); // æ–°å¢ï¼šåº”ç”¨èŠ±ä½“å­—
                textSize(this.size);
                text(this.text, 0, 0);
                pop();
            }
        }
    </script>
</body>
</html>